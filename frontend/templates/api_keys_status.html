<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>üîê √âtat des cl√©s API</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 2em; max-width: 900px; margin: auto; background: #f0f4f8; }
    table { width: 100%; border-collapse: collapse; margin-top: 1em; }
    th, td { border: 1px solid #ccc; padding: 0.6em; text-align: left; }
    th { background-color: #e0e7ff; }
    .ok { color: green; font-weight: bold; }
    .missing { color: red; font-weight: bold; }
    .no-doc { color: #666; font-style: italic; }
    .doc-link { font-size: 0.9em; }
    a { text-decoration: none; color: #0366d6; }
  </style>
</head>
<body>
  <h1>üîê √âtat des cl√©s API d√©tect√©es</h1>

  {% if capabilities_json %}
    <table>
      <thead>
        <tr>
          <th>Cl√© API</th>
          <th>Statut</th>
          <th>Documentation</th>
        </tr>
      </thead>
      <tbody>
        {% for item in capabilities_json %}
          <tr>
            <td>{{ item.name }}</td>
            <td class="{{ 'ok' if item.status == 'pr√©sente' else 'missing' }}">
              {{ item.status.capitalize() }}
            </td>
            <td class="doc-link">
              {% if item.doc %}
                <a href="{{ item.doc }}" target="_blank">üìò Documentation</a>
              {% else %}
                <span class="no-doc">Non fournie</span>
              {% endif %}
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>Aucune cl√© API d√©tect√©e. Veuillez v√©rifier votre fichier <code>.env</code>.</p>
  {% endif %}

  <a href="/">‚¨ÖÔ∏è Retour √† l‚Äôaccueil</a>
</body>
</html>
