<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>🗺️ Carte des APIs détectées</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f9f9f9; padding: 2em; max-width: 960px; margin: auto; }
    h1 { color: #2c3e50; }
    table { width: 100%; border-collapse: collapse; margin-top: 2em; background: white; }
    th, td { border: 1px solid #ddd; padding: 1em; text-align: left; }
    th { background: #ecf0f1; }
    tr:nth-child(even) { background-color: #f2f2f2; }
    .source { font-weight: bold; color: #2980b9; }
    .target { color: #2c3e50; }
    a { color: #3498db; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <h1>📍 Dépendances détectées entre APIs / modules</h1>

  <p>Voici la carte des dépendances et des appels entre modules et API dans le projet.</p>

  {% if dependencies %}
    <table>
      <thead>
        <tr>
          <th>🔗 Source</th>
          <th>➡️ Appelle</th>
        </tr>
      </thead>
      <tbody>
        {% for dep in dependencies %}
        <tr>
          <td class="source">{{ dep.source }}</td>
          <td class="target">{{ dep.target }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p><strong>Aucune dépendance détectée.</strong> 🤷‍♂️</p>
  {% endif %}

  <a href="/">⬅️ Retour à l'accueil</a>
</body>
</html>
