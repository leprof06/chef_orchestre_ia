<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Choisir ou importer un projet - Chef d'Orchestre IA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/nom_du_fichier.css') }}">
</head>
<body>
    <div class="container">
        <h1>Ouvrir un projet existant <span style="font-size:1.1em;">ðŸ“‚</span></h1>
        <div class="subtitle">SÃ©lectionne une source pour importer ou ouvrir ton projet.</div>

        <div class="import-sources">
<!-- === Import dâ€™un dossier local via explorateur natif (100% web compatible) === -->
<form method="POST" action="{{ url_for('import_local_folder_route') }}" enctype="multipart/form-data" style="margin-top:1em;">
    <label for="folderInput"><strong>Importer un dossier localâ€¯:</strong></label><br>
    <input id="folderInput" name="folder" type="file" webkitdirectory directory multiple required>
    <button type="submit" class="btn-main" style="margin-top:0.5em;">Importer ce dossier</button>
    <span style="font-size:0.93em;color:#678;">(Tous les fichiers et sous-dossiers seront importÃ©s)</span>
</form>

    <!-- === Import dâ€™un dossier local (NOUVEAU) === -->
    


            <!-- Import ZIP -->
            <form action="{{ url_for('upload_projet_existant') }}" method="post" enctype="multipart/form-data">
                <label>TÃ©lÃ©charger un projet ZIP :</label>
                <input type="file" name="project_zip" accept=".zip" required>
                <button type="submit" class="btn-main">Importer ZIP</button>
            </form>

            <!-- Import dossier local -->
            <form action="{{ url_for('import_local') }}" method="post">
                <label>Importer un dossier local :</label>
                <input type="text" name="folder_path" placeholder="Chemin complet du dossier (ex: C:/Users/xxx/monprojet)" required>
                <button type="submit" class="btn-main">Importer Local</button>
            </form>

            <!-- Import GitHub -->
            <form action="{{ url_for('import_github') }}" method="post">
                <label>Importer depuis GitHub :</label>
                <input type="text" name="github_url" placeholder="URL du repo GitHub" required>
                <input type="text" name="token" placeholder="ClÃ© API (optionnel)">
                <button type="submit" class="btn-main" {% if github_token is not defined or not github_token %}disabled{% endif %}>Importer GitHub</button>
            </form>

            <!-- Import Google Drive -->
            <form action="{{ url_for('import_gdrive') }}" method="post">
                <label>Importer depuis Google Drive :</label>
                <input type="text" name="gdrive_id" placeholder="ID fichier/dossier Drive" required>
                <input type="text" name="token" placeholder="ClÃ© API Google Drive">
                <button type="submit" class="btn-main" {% if gdrive_token is not defined or not gdrive_token %}disabled{% endif %}>Importer Google Drive</button>
            </form>

            <!-- Import Dropbox -->
            <form action="{{ url_for('import_dropbox') }}" method="post">
                <label>Importer depuis Dropbox :</label>
                <input type="text" name="dropbox_link" placeholder="Lien partage Dropbox" required>
                <input type="text" name="token" placeholder="ClÃ© API Dropbox">
                <button type="submit" class="btn-main" {% if dropbox_token is not defined or not dropbox_token %}disabled{% endif %}>Importer Dropbox</button>
            </form>

            <!-- Import iCloud -->
            <form action="{{ url_for('import_icloud') }}" method="post">
                <label>Importer depuis iCloud :</label>
                <input type="text" name="icloud_url" placeholder="Lien iCloud ou identifiant" required>
                <input type="text" name="token" placeholder="ClÃ© API iCloud (si besoin)">
                <button type="submit" class="btn-main" disabled title="Non supportÃ© par dÃ©faut">Importer iCloud</button>
            </form>

            <!-- Import AWS S3 -->
            <form action="{{ url_for('import_s3') }}" method="post">
                <label>Importer depuis AWS S3 :</label>
                <input type="text" name="s3_url" placeholder="URL S3" required>
                <input type="text" name="aws_access_key" placeholder="AWS Access Key">
                <input type="text" name="aws_secret_key" placeholder="AWS Secret Key">
                <button type="submit" class="btn-main" {% if s3_key is not defined or not s3_key or s3_secret is not defined or not s3_secret %}disabled{% endif %}>Importer S3</button>
            </form>

            <!-- Import HTTP/URL direct -->
            <form action="{{ url_for('import_http') }}" method="post">
                <label>Importer via une URL HTTP/HTTPS :</label>
                <input type="text" name="http_url" placeholder="https://url/du/fichier.zip" required>
                <button type="submit" class="btn-main">Importer via URL</button>
            </form>

            <!-- Import FTP -->
            <form action="{{ url_for('import_ftp') }}" method="post">
                <label>Importer depuis FTP :</label>
                <input type="text" name="ftp_url" placeholder="ftp://..." required>
                <input type="text" name="ftp_user" placeholder="Utilisateur (optionnel)">
                <input type="password" name="ftp_pass" placeholder="Mot de passe (optionnel)">
                <button type="submit" class="btn-main">Importer FTP</button>
            </form>

            <!-- Import SVN -->
            <form action="{{ url_for('import_svn') }}" method="post">
                <label>Importer depuis SVN :</label>
                <input type="text" name="svn_url" placeholder="URL du dÃ©pÃ´t SVN" required>
                <button type="submit" class="btn-main">Importer SVN</button>
            </form>

            <!-- Import Bitbucket -->
            <form action="{{ url_for('import_bitbucket') }}" method="post">
                <label>Importer depuis Bitbucket :</label>
                <input type="text" name="bitbucket_url" placeholder="URL du repo Bitbucket" required>
                <input type="text" name="token" placeholder="ClÃ© API Bitbucket (optionnel)">
                <button type="submit" class="btn-main" {% if bitbucket_token is not defined or not bitbucket_token %}disabled{% endif %}>Importer Bitbucket</button>
            </form>

            <!-- Import GitLab -->
            <form action="{{ url_for('import_gitlab') }}" method="post">
                <label>Importer depuis GitLab :</label>
                <input type="text" name="gitlab_url" placeholder="URL du repo GitLab" required>
                <input type="text" name="token" placeholder="ClÃ© API GitLab (optionnel)">
                <button type="submit" class="btn-main" {% if gitlab_token is not defined or not gitlab_token %}disabled{% endif %}>Importer GitLab</button>
            </form>
        </div>

        <div class="sep"></div>

        <!-- Liste des projets dÃ©jÃ  importÃ©s/local -->
        <div class="project-list">
            <div class="projets-titre">Mes projets dÃ©jÃ  prÃ©sents :</div>
            {% if projects %}
                {% for project in projects %}
                    <form action="{{ url_for('load_project', project_name=project) }}" method="get" style="display:inline;">
                        <button class="project-btn" type="submit">{{ project }}</button>
                    </form>
                {% endfor %}
            {% else %}
                <div>Aucun projet pour lâ€™instant.</div>
            {% endif %}
        </div>
        <div class="footer">
            <small>
                Made by Yann & GPT-CodeAssistant.<br>
                IA orchestrateur modulaire â€¢ 2025
            </small>
        </div>
    </div>
</body>
</html>
        </div>
        <div class="footer">
            <small>
                Made by Yann & GPT-CodeAssistant.<br>
                IA orchestrateur modulaire â€¢ 2025
            </small>
        </div>
    </div>
</body>
</html>
